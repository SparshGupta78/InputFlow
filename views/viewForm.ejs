<%- include('./partials/header') %>
    <div class="main">
        <div class="main-b3qa">
            <div class="main-nav">
                <div class="main-nav-btn view-form-nav-btn main-nav-btn-active">
                    View form
                </div>
                <div class="main-nav-btn view-res-nav-btn">
                    View responses
                </div>
            </div>
        </div>
        <div class="main-b32wvs">
            <div class="main-a2eD5">
                <form action="/submit" method="post">
                    <input type="hidden" name="formId" value="<%= form.formId %>" />
                    <div class="form-container">
                        <div class="form-info">
                            <div class="form-info-close" onclick="this.parentNode.remove()">
                                <span class="material-symbols-rounded">close</span>
                            </div>
                            <ul>
                                <li>Asterisk(*) denote required fields.</li>
                            </ul>
                        </div>
                        <div class="title-box">
                            <div class="form-title"><%= form.title %></div>
                            <% if (form.description) { %>
                                <div class="form-description"><%= form.description %></div>
                            <% } %>
                        </div>
                        <% form.formData.forEach(contentBox => { %>
                            <div class="content-box" data-field-type="<%= contentBox.type %>">
                                <div class="question"><% if (contentBox.required) { %><span>* </span><% } %><%= contentBox.question %></div>
                                <% if (contentBox.type === 'single-line') { %>
                                    <textarea name="<%= contentBox.questionId %>" class="single-line-ans" placeholder="Your answer" rows="1" <%= contentBox.required ? 'required' : '' %>></textarea>
                                <% } else if (contentBox.type === 'multi-line') { %>
                                    <textarea name="<%= contentBox.questionId %>" class="multi-line-ans" placeholder="Your answer" rows="2" <%= contentBox.required ? 'required' : '' %>></textarea>
                                <% } else if (contentBox.type === 'single-choice') { %>
                                    <div class="answer-section">
                                        <% contentBox.options.forEach((option, index) => { %>
                                            <% const inputId = `${contentBox.questionId}-option-${index}` %>
                                            <div class="option">
                                                <input id="<%= inputId %>" name="<%= contentBox.questionId %>" type="radio" value="<%= option %>" class="content-click-btn" <%= contentBox.required ? 'required' : '' %> />
                                                <label for="<%= inputId %>"><%= option %></label>
                                            </div>
                                        <% }) %>
                                    </div>
                                <% } else if (contentBox.type === 'multi-choice') { %>
                                    <div class="answer-section">
                                        <% contentBox.options.forEach((option, index) => { %>
                                            <% const inputId = `${contentBox.questionId}-option-${index}`; %>
                                            <div class="option">
                                                <input id="<%= inputId %>" name="<%= contentBox.questionId %>" type="checkbox" value="<%= option %>" class="content-click-btn" <%= contentBox.required ? 'required' : '' %> />
                                                <label for="<%= inputId %>"><%= option %></label>
                                            </div>
                                        <% }) %>
                                    </div>
                                <% } %>
                                <% if (contentBox.type === 'single-choice' || contentBox.type === 'multi-choice') { %>
                                    <div class="content-clear-selection">
                                        <button type="button" class="clear-selection">Clear selection</button>
                                    </div>
                                <% } %>
                            </div>
                        <% }) %>
                        <div class="submit-btn-box">
                            <button type="submit" class="submit-btn">Submit</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="main-feszs">
                form responses
            </div>
        </div>
    </div>
<%- include('./partials/footer') %>